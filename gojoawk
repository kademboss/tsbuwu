function onAnimation(id, func)
    local id = tostring(id):gsub("rbxassetid://", "")
    
    local char = game:GetService("Players").LocalPlayer.Character
    local humanoid = char and char:WaitForChild("Humanoid", 1)
    if char and humanoid then
        humanoid.AnimationPlayed:Connect(function(v)
            local vID = v.Animation.AnimationId:gsub("rbxassetid://", "")
            if id == vID then
                func(v)
            end
        end)
    end
    game:GetService("Players").LocalPlayer.CharacterAdded:Connect(function(char)
        local humanoid = char and char:WaitForChild("Humanoid", 1)
        if char and humanoid then
            humanoid.AnimationPlayed:Connect(function(v)
                local vID = v.Animation.AnimationId:gsub("rbxassetid://", "")
                if id == vID then
                    func(v)
                end
            end)
        end
    end)
end



onAnimation("15503060232", function(animation)
        wait(1)
local targetHipHeight = 35  -- Target HipHeight in studs
local transitionTime = 1.5  -- Time in seconds over which to transition

local character = game.Players.LocalPlayer.Character
if character then
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    if humanoid then
        local initialHipHeight = humanoid.HipHeight
        local timeElapsed = 0

        -- Run the transition smoothly over time
        while timeElapsed < transitionTime do
            timeElapsed = timeElapsed + game:GetService("RunService").Heartbeat:Wait()
            local alpha = timeElapsed / transitionTime
            humanoid.HipHeight = initialHipHeight + (targetHipHeight - initialHipHeight) * alpha
        end

        -- Ensure the final HipHeight is set correctly
        humanoid.HipHeight = targetHipHeight
wait(2.35)
Player = "LocalPlayer"
AnimationId = "18897538537"
local Anim = Instance.new("Animation")
Anim.AnimationId = "rbxassetid://"..AnimationId
local k = game.Players[Player].Character.Humanoid:LoadAnimation(Anim)
k:Play() --Play the animation
k:AdjustSpeed(1.5) --Set '1' to any value you want to adjust the animation speed.
wait(8.25)

local targetHipHeight = 0  -- Target HipHeight in studs
local transitionTime = 1.5  -- Time in seconds over which to transition

k:Stop()

local character = game.Players.LocalPlayer.Character
if character then
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    if humanoid then
        local initialHipHeight = humanoid.HipHeight
        local timeElapsed = 0

        -- Run the transition smoothly over time
        while timeElapsed < transitionTime do
            timeElapsed = timeElapsed + game:GetService("RunService").Heartbeat:Wait()
            local alpha = timeElapsed / transitionTime
            humanoid.HipHeight = initialHipHeight + (targetHipHeight - initialHipHeight) * alpha
        end

        -- Ensure the final HipHeight is set correctly
        humanoid.HipHeight = targetHipHeight
          end
       end
    end
end
end)
